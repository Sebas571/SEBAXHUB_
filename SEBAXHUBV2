--[[ 
Sebaxhub: Hub arrastável com bordas arredondadas.
Botão "Float é destivar float": ao pressionar Q, alterna entre criar/destruir plataformas sob o jogador.
Botão "ESP de Base": destaca todas as partes chamadas "Base" e mostra quantos segundos faltam para abrir (atributo "TempoParaAbrir").
Executável em ambientes como Roblox Studio (LocalScript).
--]]

local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- GUI creation
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "Sebaxhub"
screenGui.Parent = player:WaitForChild("PlayerGui")

local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 250, 0, 150)
mainFrame.Position = UDim2.new(0.5, -125, 0.5, -75)
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
mainFrame.BorderSizePixel = 0
mainFrame.AnchorPoint = Vector2.new(0.5,0.5)
mainFrame.Parent = screenGui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 18)
corner.Parent = mainFrame

mainFrame.Active = true
mainFrame.Draggable = true

local title = Instance.new("TextLabel")
title.Text = "Sebaxhub"
title.Font = Enum.Font.FredokaOne
title.TextColor3 = Color3.fromRGB(255,255,255)
title.TextSize = 22
title.BackgroundTransparency = 1
title.Size = UDim2.new(1,0,0,36)
title.Parent = mainFrame

-- Botão Float
local floatBtn = Instance.new("TextButton")
floatBtn.Text = "Float é destivar float"
floatBtn.Font = Enum.Font.FredokaOne
floatBtn.TextColor3 = Color3.fromRGB(255,255,255)
floatBtn.TextSize = 18
floatBtn.BackgroundColor3 = Color3.fromRGB(60,120,220)
floatBtn.Size = UDim2.new(0.85,0,0,36)
floatBtn.Position = UDim2.new(0.075,0,0.35,0)
floatBtn.Parent = mainFrame

local btnCorner = Instance.new("UICorner")
btnCorner.CornerRadius = UDim.new(0, 12)
btnCorner.Parent = floatBtn

-- Botão ESP de Base
local btn2 = Instance.new("TextButton")
btn2.Text = "ESP de Base"
btn2.Font = Enum.Font.FredokaOne
btn2.TextColor3 = Color3.fromRGB(255,255,255)
btn2.TextSize = 18
btn2.BackgroundColor3 = Color3.fromRGB(220,60,60)
btn2.Size = UDim2.new(0.85,0,0,36)
btn2.Position = UDim2.new(0.075,0,0.65,0)
btn2.Parent = mainFrame

local btn2Corner = Instance.new("UICorner")
btn2Corner.CornerRadius = UDim.new(0, 12)
btn2Corner.Parent = btn2

-- Float Platform Logic
local floatActive = false
local platform = nil

local function toggleFloat()
    floatActive = not floatActive
    if floatActive then
        local character = player.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            platform = Instance.new("Part")
            platform.Size = Vector3.new(7,1,7)
            platform.Anchored = true
            platform.CanCollide = true
            platform.Color = Color3.fromRGB(60,120,220)
            platform.Material = Enum.Material.Neon
            platform.Name = "SebaxhubFloat"
            platform.Parent = workspace
            platform.Position = character.HumanoidRootPart.Position - Vector3.new(0,3,0)
            platform:GetPropertyChangedSignal("Parent"):Connect(function()
                platform = nil
            end)
            spawn(function()
                while floatActive and platform and character and character:FindFirstChild("HumanoidRootPart") do
                    platform.Position = character.HumanoidRootPart.Position - Vector3.new(0,3,0)
                    wait(0.03)
                end
            end)
        end
        floatBtn.Text = "Desativar Float"
    else
        if platform then
            platform:Destroy()
            platform = nil
        end
        floatBtn.Text = "Float é destivar float"
    end
end

floatBtn.MouseButton1Click:Connect(toggleFloat)

UserInputService.InputBegan:Connect(function(input, processed)
    if processed then return end
    if input.KeyCode == Enum.KeyCode.Q then
        toggleFloat()
    end
end)

-- ESP de Base com contador de tempo
local espActive = false
local espObjects = {}

local function clearESP()
    for _, data in ipairs(espObjects) do
        if data.box then data.box:Destroy() end
        if data.bill then data.bill:Destroy() end
    end
    espObjects = {}
end

local function updateESP()
    for _, data in ipairs(espObjects) do
        if data.base and data.bill then
            local tempo = data.base:GetAttribute("TempoParaAbrir")
            if typeof(tempo) == "number" then
                if tempo > 0 then
                    data.bill.Text = "Abre em: " .. math.ceil(tempo) .. "s"
                else
                    data.bill.Text = "Base aberta!"
                end
            else
                data.bill.Text = "Sem tempo"
            end
        end
    end
end

btn2.MouseButton1Click:Connect(function()
    espActive = not espActive
    clearESP()
    if espActive then
        for _, obj in ipairs(workspace:GetDescendants()) do
            if obj:IsA("BasePart") and obj.Name == "Base" then
                -- Box ESP
                local box = Instance.new("BoxHandleAdornment")
                box.Adornee = obj
                box.AlwaysOnTop = true
                box.ZIndex = 10
                box.Size = obj.Size + Vector3.new(0.2,0.2,0.2)
                box.Color3 = Color3.fromRGB(255, 255, 0)
                box.Transparency = 0.6
                box.Parent = obj
                -- Texto de tempo
                local bill = Instance.new("BillboardGui")
                bill.Name = "SebaxhubESPBill"
                bill.Adornee = obj
                bill.Parent = obj
                bill.Size = UDim2.new(0, 120, 0, 30)
                bill.StudsOffset = Vector3.new(0, obj.Size.Y/2 + 1.5, 0)
                bill.AlwaysOnTop = true
                local txt = Instance.new("TextLabel")
                txt.Size = UDim2.new(1,0,1,0)
                txt.BackgroundTransparency = 1
                txt.TextColor3 = Color3.fromRGB(255,255,0)
                txt.Font = Enum.Font.FredokaOne
                txt.TextSize = 16
                txt.Text = ""
                txt.Parent = bill
                table.insert(espObjects, {base=obj, box=box, bill=txt})
            end
        end
        btn2.Text = "Desativar ESP de Base"
        -- Atualizador de texto em tempo real
        spawn(function()
            while espActive do
                updateESP()
                wait(0.3)
            end
        end)
    else
        btn2.Text = "ESP de Base"
    end
end)

if workspace:FindFirstChild("SebaxhubFloat") and not floatActive then
    workspace.SebaxhubFloat:Destroy()
end
